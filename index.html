<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ë©”ì¶” - ì˜¤ëŠ˜ì˜ ë©”ë‰´ ì¶”ì²œ</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        body { font-family: sans-serif; margin: 40px; }
        #recommend-card { border: 1px solid #ccc; padding: 24px; border-radius: 8px; max-width: 400px; }
        #nearby-btn { margin-top: 16px; }
        #restaurant-list { margin-top: 24px; }
        .restaurant { margin-bottom: 16px; padding-bottom: 8px; border-bottom: 1px solid #eee; }
    </style>
</head>
<body>
    <div class="container">
        <button id="darkModeBtn" class="darkmode-btn" onclick="toggleDarkMode()" title="ë‹¤í¬ëª¨ë“œ ì „í™˜">ğŸŒ™</button>
        <div id="introScreen" class="screen active">
            <div class="intro-emoji" style="font-size:3.5rem; margin-bottom:1.2rem;">ğŸ½ï¸</div>
            <h1 style="font-size:2.1rem; color:var(--text-accent); margin-bottom:1.2rem;">ë‹¹ì‹ ì˜ ì‹ì‚¬ë¥¼ ì±…ì„ì§‘ë‹ˆë‹¤</h1>
            <div style="text-align:center; margin-bottom:2.2rem; color:var(--text-soft); font-size:1.1rem;">ì˜¤ëŠ˜ì˜ ë©”ë‰´ë¥¼ ê·€ì—½ê²Œ ì¶”ì²œí•´ë“œë¦´ê²Œìš”!</div>
            <button class="today-btn" style="margin-top:0.5rem;" onclick="startApp()">ì‹œì‘í•˜ê¸°</button>
        </div>

        <div id="mealTimeSelection" class="screen">
            <div style="position:absolute; top:24px; left:24px; z-index:11; display:flex; gap:0.5rem;">
                <button onclick="goHome()" class="home-btn">ğŸ </button>
                <button onclick="renderFavoritesScreen()" class="fav-btn" style="font-size:1.3rem; padding:0.6rem 1.1rem;">â­ ì¦ê²¨ì°¾ê¸° ì „ì²´ ë³´ê¸°</button>
            </div>
            <h1>ì–¸ì œ ì‹ì‚¬í•˜ì‹¤ ì˜ˆì •ì¸ê°€ìš”?</h1>
            <div class="meal-buttons">
                <button onclick="selectMealTime('breakfast')" class="meal-button" style="font-family: 'Jua', 'Gowun Dodum', sans-serif; font-size: 1.25rem;">ì•„ì¹¨</button>
                <button onclick="selectMealTime('lunch')" class="meal-button" style="font-family: 'Jua', 'Gowun Dodum', sans-serif; font-size: 1.25rem;">ì ì‹¬</button>
                <button onclick="selectMealTime('dinner')" class="meal-button" style="font-family: 'Jua', 'Gowun Dodum', sans-serif; font-size: 1.25rem;">ì €ë…</button>
            </div>
        </div>

        <div id="favoritesScreen" class="screen">
            <div class="header">
                <button onclick="goHome()" class="home-btn">ğŸ  í™ˆìœ¼ë¡œ</button>
                <h2 style="margin-left:0.5rem; color:var(--text-accent);">â­ ì¦ê²¨ì°¾ê¸° ì „ì²´ ë¦¬ìŠ¤íŠ¸</h2>
            </div>
            <div id="favoritesList" class="other-menu-list"></div>
        </div>

        <div id="menuRecommend" class="screen">
            <div class="header">
                <button onclick="goBack()" class="back-button">â†</button>
                <h2 id="mealTimeTitle">ë©”ë‰´ ì¶”ì²œ</h2>
            </div>
            <div class="recommend-card" id="recommendCard">
                <!-- JSë¡œ ì¶”ì²œ ë©”ë‰´ ì •ë³´ ë Œë”ë§ -->
            </div>
            <button onclick="showOtherMenus()" class="other-menu-btn">ì´ ìŒì‹ì´ ì‹«ì–´ìš”! ë‹¤ë¥¸ ìŒì‹ì€ ì–´ë–¤ê°€ìš”?</button>
        </div>

        <div id="otherMenus" class="screen">
            <div class="header">
                <button onclick="goBack()" class="back-button">â†</button>
                <h2>ë‹¤ë¥¸ ì¶”ì²œ ë©”ë‰´</h2>
            </div>
            <div class="other-menu-list" id="otherMenuList">
                <!-- JSë¡œ ë‚˜ë¨¸ì§€ ë©”ë‰´ ì¹´ë“œ ë Œë”ë§ -->
            </div>
        </div>
    </div>
    <script src="script.js"></script>
    <script>
    document.getElementById('nearby-btn').onclick = async function() {
        const keyword = 'ê°ˆë¹„ì°œ';
        // API ì—”ë“œí¬ì¸íŠ¸ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤
        const apiEndpoint = process.env.API_ENDPOINT || '/api/search';
        const res = await fetch(`${apiEndpoint}?keyword=${encodeURIComponent(keyword)}`);
        const data = await res.json();
        const listDiv = document.getElementById('restaurant-list');
        if (Array.isArray(data) && data.length > 0) {
            listDiv.innerHTML = data.map(r => `
                <div class="restaurant">
                    <b>${r.title.replace(/<[^>]+>/g, '')}</b><br>
                    ì£¼ì†Œ: ${r.roadAddress}<br>
                    ì „í™”ë²ˆí˜¸: ${r.telephone || 'ì •ë³´ ì—†ìŒ'}
                </div>
            `).join('');
        } else {
            listDiv.innerHTML = '<i>ê·¼ì²˜ ì‹ë‹¹ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</i>';
        }
    };
    </script>
</body>
</html> 